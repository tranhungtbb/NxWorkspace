<div class="header-componet">
  <div class="content-header">
    <div class="d-flex align-items-center position-relative center">
      <div class="h2 position-absolute left-0">Welcome, Julia</div>
      <div class="h2">Friday 12/08/2022 15:20:02</div>
    </div>
  </div>
</div>

<div class="statistic-dashboard">
  <mat-card>
    <mat-card-content>
      <div class="d-flex align-items-center">
        <div mat-card-avatar class="cricle center bg-sos">
          <img src="../../../assets/media/icons/checkin.svg" class="" alt="" />
        </div>
        <div class="item-center">
          <p class="p_1 light-height-16">SOS</p>
          <div class="h1">14</div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-content>
      <div class="d-flex align-items-center">
        <div mat-card-avatar class="cricle center bg-safety">
          <img src="../../../assets/media/icons/checkin.svg" class="" alt="" />
        </div>
        <div class="item-center">
          <p class="p_1 light-height-16">Follow me</p>
          <div class="h1">25</div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-content>
      <div class="d-flex align-items-center">
        <div mat-card-avatar class="cricle center bg-mental-health">
          <img src="../../../assets/media/icons/checkin.svg" class="" alt="" />
        </div>
        <div class="item-center">
          <p class="p_1 light-height-16">Check in</p>
          <div class="h1">8</div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<mat-card class="card-ngx-table card-ngx-map">
  <mat-card-header class="d-block">
    <div class="d-flex justify-content-between">
      <div class="h3">Active Cases</div>
      <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M19 0C19.2652 0 19.5196 0.105357 19.7071 0.292893C19.8946 0.48043 20 0.734784 20 1V17C20 17.2652 19.8946 17.5196 19.7071 17.7071C19.5196 17.8946 19.2652 18 19 18H1C0.734784 18 0.48043 17.8946 0.292893 17.7071C0.105357 17.5196 0 17.2652 0 17V1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H19ZM18 2H2V16H18V2ZM11 14V12H14V9H16V14H11ZM9 4V6H6V9H4V4H9Z"
          fill="#606060" />
      </svg>
    </div>
    <div class="search-componet padding-top-2 margin-bottom-0">
      <div class="input-group input-seach custom-input-search">
        <button mat-icon-button>
          <mat-icon>search</mat-icon>
        </button>
        <input type="text" class="form-control border" placeholder="Search for active case">
      </div>
    </div>
  </mat-card-header>
  <mat-card-content>
    <agm-map [latitude]="markers?.lat" [longitude]="markers?.lng" [zoom]="zoom" [disableDefaultUI]="false"
      [disableDoubleClickZoom]="true" (mapClick)="mapClicked($event)">
      <agm-marker *ngIf="markers" [latitude]="markers.lat" [longitude]="markers.lng" [markerDraggable]="true"
        (dragEnd)="dragEnd($event)">
      </agm-marker>
    </agm-map>
  </mat-card-content>
</mat-card>

<mat-card class="card-ngx-table">
  <mat-card-content>
    <ngx-datatable #table class="material fullscreen" [rows]="rows" [headerHeight]="50" [columnMode]="'force'" [footerHeight]="300"
      [scrollbarH]="true" rowHeight="auto" [externalPaging]="true" [count]="page.totalElements"
      [offset]="page.pageNumber" [limit]="page.size" (page)="setPage($event)" [rowClass]="getRowClass">
      <ngx-datatable-column name="Clients">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">{{ column.name }}</span>
        </ng-template>
        <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
          <div class="block-avatar">
            <div mat-card-avatar>
              <img [src]="row?.clientImage" class="" alt="" />
            </div>
            <div class="flex-grow-1 d-inline-grid">
              <div class="h3">{{ value }}</div>
              <p class="p_1">CC Manager</p>
            </div>
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="caseID">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">{{ column.name }}</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <p>{{ value }}</p>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Category">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">{{ column.name }}</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <button *ngIf="value == 1" class="btn btn-sos">SOS</button>
          <button *ngIf="value == 2" class="btn btn-safety">Follow me</button>
          <button *ngIf="value == 3" class="btn btn-mental-health">Check-in</button>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Operator">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">{{ column.name }}</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>

          <div class="block-avatar-small">
            <div mat-card-avatar>
              <img src="assets/media/avatars/avatar-3.png" class="" alt="" />
            </div>
            <div class="flex-grow-1 d-inline-grid">
              <div class="h6">{{ value }}</div>
            </div>
          </div>

        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="LastUpdated">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">{{ column.name }}</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <p>{{ value }}</p>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-footer>
        <ng-template ngx-datatable-footer-template let-rowCount="rowCount" let-pageSize="pageSize"
          let-selectedCount="selectedCount" let-curPage="curPage" let-offset="offset" let-isVisible="isVisible">
          <beekin-app-ngx-footer-custom [offset]="offset" [pageSize]="pageSize"
            [rowCount]="rowCount" (change)="table.onFooterPage($event)">
          </beekin-app-ngx-footer-custom>
        </ng-template>
      </ngx-datatable-footer>
      
    </ngx-datatable>
  </mat-card-content>
</mat-card>